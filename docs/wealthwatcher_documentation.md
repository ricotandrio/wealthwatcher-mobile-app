# wealthwatcher

1. [Introduction](#introduction)
2. [Getting Started](#getting-started)
3. [Configuration](#configuration)

# Introduction <a name="introduction"></a>

Welcome to the wealthwatcher documentation. Wealthwatcher is a a mobile app for managing expenses and incomes, built using Flutter. `Firebase` is used for authentication, `Firestore` for the database, and `BLoC` for state management.

# Getting Started <a name="getting-started"></a>

To begin using wealthwatcher, follow these simple steps:

1. [Installation](#installation)
2. [Setting up Firebase](#setting-up-firebase)
3. [Configuration](#configuration)
4. [Authentication](#authentication)

## Installation

To run the WealthWatcher app:

1. Clone this repository to your local machine.
2. Ensure you have Flutter installed. If not, follow the installation instructions in the [Flutter documentation](https://flutter.dev/docs/get-started/install).
3. Navigate to the project directory in your terminal.
4. Run the command `flutter run` to launch the app on your emulator or connected device.

## Setting up Firebase

To set up this mobile app, you will need Firebase options for configuring Firebase. You can use this template and store it at 'wealthwatcher/lib/firebase_options.dart'. 

***Template for firebase_options.dart***
```dart
// File generated by FlutterFire CLI.
// ignore_for_file: lines_longer_than_80_chars, avoid_classes_with_only_static_members
import 'package:firebase_core/firebase_core.dart' show FirebaseOptions;
import 'package:flutter/foundation.dart'
    show defaultTargetPlatform, kIsWeb, TargetPlatform;

/// Default [FirebaseOptions] for use with your Firebase apps.
///
/// Example:
/// ```dart
/// import 'firebase_options.dart';
/// // ...
/// await Firebase.initializeApp(
///   options: DefaultFirebaseOptions.currentPlatform,
/// );
/// ```
class DefaultFirebaseOptions {
  static FirebaseOptions get currentPlatform {
    if (kIsWeb) {
      return web;
    }
    switch (defaultTargetPlatform) {
      case TargetPlatform.android:
        return android;
      case TargetPlatform.iOS:
        return ios;
      case TargetPlatform.macOS:
        throw UnsupportedError(
          'DefaultFirebaseOptions have not been configured for macos - '
          'you can reconfigure this by running the FlutterFire CLI again.',
        );
      case TargetPlatform.windows:
        throw UnsupportedError(
          'DefaultFirebaseOptions have not been configured for windows - '
          'you can reconfigure this by running the FlutterFire CLI again.',
        );
      case TargetPlatform.linux:
        throw UnsupportedError(
          'DefaultFirebaseOptions have not been configured for linux - '
          'you can reconfigure this by running the FlutterFire CLI again.',
        );
      default:
        throw UnsupportedError(
          'DefaultFirebaseOptions are not supported for this platform.',
        );
    }
  }

  static const FirebaseOptions web = FirebaseOptions(
    apiKey: '',
    appId: '',
    messagingSenderId: '',
    authDomain: '',
    storageBucket: '',
    measurementId: '',
  );

  static const FirebaseOptions android = FirebaseOptions(
    apiKey: '',
    appId: '',
    messagingSenderId: '',
    storageBucket: '',
  );

  static const FirebaseOptions ios = FirebaseOptions(
    apiKey: '',
    appId: '',
    messagingSenderId: '',
    storageBucket: '',
    iosBundleId: '',
  );
}
```

## Configuration

Configure these rules in your Firestore.

```json
service cloud.firestore {
  match /databases/{database}/documents {
    // Allow only authenticated users to read and write their own user data
    match /users/{userId} {
      allow read, write, delete: if request.auth != null && request.auth.uid == userId;
    }

    // Allow only authenticated users to read and write their own expenses and incomes
    match /users/{userId}/expenses/{document=**} {
      allow read, write, delete: if request.auth != null && request.auth.uid == userId;
    }
    match /users/{userId}/incomes/{document=**} {
      allow read, write, delete: if request.auth != null && request.auth.uid == userId;
    }
  }
}
```

